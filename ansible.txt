Source script server pre req
apt install ansible
ssh-keygen
ssh-copy-id root@<node_ip>
	
===========================
Node server pre req
disable swap /etc/fstab
swapoff -a
vi /etc/ssh/sshd_config (PermitRootLogin yes)
service sshd restart
update /etc/hosts

==========================
Worker nodes for GlusterFS
cfdisk /dev/sdb
mkfs -t ext4 /dev/sdb1
mkdir /gfs
mount /dev/sdb1 /gfs

make entry into /etc/fstab, so it mounts on reboot
/dev/sdb1       /gfs   ext4    defaults,nofail

============================
Source script server
mkdir ~/kube-cluster
cd ~/kube-cluster

nano ~/kube-cluster/hosts (alterar IPs)

ansible-playbook -i hosts ~/kube-cluster/initial.yml
ansible-playbook -i hosts ~/kube-cluster/kube-dependencies.yml
ansible-playbook -i hosts ~/kube-cluster/master.yml

ssh ubuntu@master_ip
kubectl get nodes

ansible-playbook -i hosts ~/kube-cluster/workers.yml

ssh ubuntu@master_ip
kubectl get nodes

** alterar os IPs em storageclass.yaml antes
ansible-playbook -i hosts ~/kube-cluster/glusterfs.yml


